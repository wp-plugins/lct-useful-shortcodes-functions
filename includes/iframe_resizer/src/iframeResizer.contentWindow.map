{"version":3,"file":"js/iframeResizer.contentWindow.min.js","sources":["iframeResizer.contentWindow.js"],"names":["addEventListener","el","evt","func","window","attachEvent","formatLogMsg","msg","msgID","myID","log","logging","console","warn","init","readData","setMargin","setBodyStyle","bodyBackground","bodyPadding","injectClearFixIntoBodyElement","checkHeightMode","stopInfiniteResizingOfIFrame","setupPublicMethods","startEventListeners","sendSize","strBool","str","data","initMsg","substr","msgIdLen","split","bodyMargin","undefined","Number","calculateWidth","interval","publicMethods","autoResize","bodyMarginStr","heightCalcMode","tolerance","chkCSS","attr","value","indexOf","document","body","style","documentElement","height","initWindowResizeListener","initWindowClickListener","heightCalcModeDefault","getHeight","setupMutationObserver","clearFix","createElement","clear","display","appendChild","parentIFrame","close","getId","reset","resetIFrame","sendMessage","targetOrigin","sendMsg","setHeightCalculationMethod","heightCalculationMethod","setTargetOrigin","targetOriginDefault","size","customHeight","customWidth","valString","lockTrigger","initInterval","setInterval","Math","abs","setupInjectElementLoadListners","mutations","addLoadListener","element","width","src","forEach","mutation","type","attributeName","target","images","querySelectorAll","Array","prototype","call","image","createMutationObserver","querySelector","config","attributes","attributeOldValue","characterData","characterDataOldValue","childList","subtree","observer","MutationObserver","observe","WebKitMutationObserver","getBodyOffsetHeight","getComputedBodyStyle","prop","convertUnitsToPxForIE8","PIXEL","test","parseInt","base","left","runtimeStyle","currentStyle","pixelLeft","retVal","defaultView","getComputedStyle","offsetHeight","getBodyScrollHeight","scrollHeight","getDEOffsetHeight","getDEScrollHeight","getLowestElementHeight","allElements","allElementsLength","length","maxBottomVal","timer","Date","getTime","i","getBoundingClientRect","bottom","getAllHeights","getMaxHeight","max","apply","getMinHeight","min","getBestHeight","getWidth","scrollWidth","triggerEvent","triggerEventDesc","recordTrigger","resetPage","resizeIFrame","currentHeight","currentWidth","isDoubleFiredEvent","triggerLocked","doubleEventList","isSizeChangeDetected","checkTolarance","a","b","isForceResizableEvent","isForceResizableHeightCalcMode","resetRequiredMethods","logIgnored","checkDownSizing","clearTimeout","triggerLockedTimer","setTimeout","eventCancelTimer","triggerReset","hcm","sendToParent","message","postMessage","receiver","event","isMessageForUs","initFromParent","source","firstRun","initLock","resetFromParent","getMessageType","isMiddleTier","isInitMsg","true","false","resize","click","scroll","bodyScroll","documentElementScroll","parent","offset","bodyOffset","documentElementOffset","grow","lowestElement"],"mappings":"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"}